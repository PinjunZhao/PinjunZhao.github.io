<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=6.7.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/rabbit_32px.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/rabbit_16px.png?v=6.7.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.7.0" color="#222">


  <link rel="manifest" href="/images/manifest.json">


  <meta name="msapplication-config" content="/images/browserconfig.xml">





<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.7.0',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":true},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="é‡è¦ï¼å†™åœ¨æœ€å‰é¢æœ¬æ¥è¿™èŠ‚è¯¾æƒ³ç»™å¤§å®¶è®²åŸºç¡€è¯­æ³•ï¼Œä½†æ˜¯æ•´ç†è¿‡ç¨‹ä¸­å‘ç°çœŸçš„æ²¡å•¥å¥½è¯´çš„ï¼Œå¤ªå¤šä¸œè¥¿éƒ½å’Œcè¯­è¨€ä¸€æ ·ï¼Œå¹¶ä¸”å¯’å‡å·²ç»å°†å­¦ä¹ åŸºç¡€è¯­æ³•çš„ä»»åŠ¡å¸ƒç½®ç»™å¤§å®¶äº†ï¼Œè€Œä¸”æˆ‘ä»¬å¿«è¦è€ƒæ ¸äº†ï¼Œå¦‚æœæ­¤æ—¶å†è®²å¤ªå¤šåŸºç¡€è¯­æ³•ï¼Œé‚£ä¹ˆåŠ¿å¿…åœ¨è€ƒæ ¸ä¹‹å‰å¤§å®¶å­¦ä¸åˆ°ä»€ä¹ˆåç«¯æ–¹å‘æ ¸å¿ƒçš„ä¸œè¥¿ã€‚å› æ­¤æœ¬å‘¨çš„ä¸¤èŠ‚è¯¾æˆ‘ä»¬å…ˆè®²æ ¸å¿ƒå†…å®¹ï¼Œè¿™ä¸¤èŠ‚å†…å®¹å³ä¾¿ä½ ä¸ä¼šåŸºç¡€è¯­æ³•ä¹Ÿèƒ½å¬æ‡‚ã€‚åœ¨è¿™ä¸€å‘¨çš„æ—¶é—´å†…ï¼Œå¸Œæœ›åŸºç¡€è¯­æ³•ä¸å¤ªä¼šçš„åŒå­¦èƒ½å¤ŸæŠ“ç´§å­¦ä¹ ï¼Œé¢å‘å¯¹è±¡éƒ¨åˆ†æˆ‘ä»¬åé¢ä¼šè®²">
<meta name="keywords" content="è®°å½•,åŸ¹è®­,SIPC">
<meta property="og:type" content="article">
<meta property="og:title" content="ç§‘æŠ€åä¼šwebç»„åç«¯æ–¹å‘ç¬¬å››æ¬¡åŸ¹è®­â€”â€”APIæ˜¯ä»€ä¹ˆä¸œä¸œ">
<meta property="og:url" content="http://www.pinjunz.com/2019/04/05/sipc_web4/index.html">
<meta property="og:site_name" content="è´¹å¿ƒæ‚¦å·±">
<meta property="og:description" content="é‡è¦ï¼å†™åœ¨æœ€å‰é¢æœ¬æ¥è¿™èŠ‚è¯¾æƒ³ç»™å¤§å®¶è®²åŸºç¡€è¯­æ³•ï¼Œä½†æ˜¯æ•´ç†è¿‡ç¨‹ä¸­å‘ç°çœŸçš„æ²¡å•¥å¥½è¯´çš„ï¼Œå¤ªå¤šä¸œè¥¿éƒ½å’Œcè¯­è¨€ä¸€æ ·ï¼Œå¹¶ä¸”å¯’å‡å·²ç»å°†å­¦ä¹ åŸºç¡€è¯­æ³•çš„ä»»åŠ¡å¸ƒç½®ç»™å¤§å®¶äº†ï¼Œè€Œä¸”æˆ‘ä»¬å¿«è¦è€ƒæ ¸äº†ï¼Œå¦‚æœæ­¤æ—¶å†è®²å¤ªå¤šåŸºç¡€è¯­æ³•ï¼Œé‚£ä¹ˆåŠ¿å¿…åœ¨è€ƒæ ¸ä¹‹å‰å¤§å®¶å­¦ä¸åˆ°ä»€ä¹ˆåç«¯æ–¹å‘æ ¸å¿ƒçš„ä¸œè¥¿ã€‚å› æ­¤æœ¬å‘¨çš„ä¸¤èŠ‚è¯¾æˆ‘ä»¬å…ˆè®²æ ¸å¿ƒå†…å®¹ï¼Œè¿™ä¸¤èŠ‚å†…å®¹å³ä¾¿ä½ ä¸ä¼šåŸºç¡€è¯­æ³•ä¹Ÿèƒ½å¬æ‡‚ã€‚åœ¨è¿™ä¸€å‘¨çš„æ—¶é—´å†…ï¼Œå¸Œæœ›åŸºç¡€è¯­æ³•ä¸å¤ªä¼šçš„åŒå­¦èƒ½å¤ŸæŠ“ç´§å­¦ä¹ ï¼Œé¢å‘å¯¹è±¡éƒ¨åˆ†æˆ‘ä»¬åé¢ä¼šè®²">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://www.pinjunz.com/2019/04/05/sipc_web4/searchweatherapi.png">
<meta property="og:image" content="http://www.pinjunz.com/2019/04/05/sipc_web4/weatherjson.png">
<meta property="og:image" content="http://www.pinjunz.com/2019/04/05/sipc_web4/postmanapi.png">
<meta property="og:image" content="http://www.pinjunz.com/2019/04/05/sipc_web4/json.png">
<meta property="og:image" content="http://www.pinjunz.com/2019/04/05/sipc_web4/xml.png">
<meta property="og:image" content="http://www.pinjunz.com/2019/04/05/sipc_web4/asyncfalse.png">
<meta property="og:image" content="http://www.pinjunz.com/2019/04/05/sipc_web4/asynctrue.png">
<meta property="og:image" content="http://www.pinjunz.com/2019/04/05/sipc_web4/ky.png">
<meta property="og:image" content="http://www.pinjunz.com/2019/04/05/sipc_web4/kyresult.png">
<meta property="og:image" content="http://www.pinjunz.com/2019/04/05/sipc_web4/baiduapi.png">
<meta property="og:image" content="http://www.pinjunz.com/2019/04/05/sipc_web4/ip.png">
<meta property="og:image" content="http://www.pinjunz.com/2019/04/05/sipc_web4/ipapidocument.png">
<meta property="og:image" content="http://www.pinjunz.com/2019/04/05/sipc_web4/response1.png">
<meta property="og:updated_time" content="2019-04-08T02:57:55.915Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ç§‘æŠ€åä¼šwebç»„åç«¯æ–¹å‘ç¬¬å››æ¬¡åŸ¹è®­â€”â€”APIæ˜¯ä»€ä¹ˆä¸œä¸œ">
<meta name="twitter:description" content="é‡è¦ï¼å†™åœ¨æœ€å‰é¢æœ¬æ¥è¿™èŠ‚è¯¾æƒ³ç»™å¤§å®¶è®²åŸºç¡€è¯­æ³•ï¼Œä½†æ˜¯æ•´ç†è¿‡ç¨‹ä¸­å‘ç°çœŸçš„æ²¡å•¥å¥½è¯´çš„ï¼Œå¤ªå¤šä¸œè¥¿éƒ½å’Œcè¯­è¨€ä¸€æ ·ï¼Œå¹¶ä¸”å¯’å‡å·²ç»å°†å­¦ä¹ åŸºç¡€è¯­æ³•çš„ä»»åŠ¡å¸ƒç½®ç»™å¤§å®¶äº†ï¼Œè€Œä¸”æˆ‘ä»¬å¿«è¦è€ƒæ ¸äº†ï¼Œå¦‚æœæ­¤æ—¶å†è®²å¤ªå¤šåŸºç¡€è¯­æ³•ï¼Œé‚£ä¹ˆåŠ¿å¿…åœ¨è€ƒæ ¸ä¹‹å‰å¤§å®¶å­¦ä¸åˆ°ä»€ä¹ˆåç«¯æ–¹å‘æ ¸å¿ƒçš„ä¸œè¥¿ã€‚å› æ­¤æœ¬å‘¨çš„ä¸¤èŠ‚è¯¾æˆ‘ä»¬å…ˆè®²æ ¸å¿ƒå†…å®¹ï¼Œè¿™ä¸¤èŠ‚å†…å®¹å³ä¾¿ä½ ä¸ä¼šåŸºç¡€è¯­æ³•ä¹Ÿèƒ½å¬æ‡‚ã€‚åœ¨è¿™ä¸€å‘¨çš„æ—¶é—´å†…ï¼Œå¸Œæœ›åŸºç¡€è¯­æ³•ä¸å¤ªä¼šçš„åŒå­¦èƒ½å¤ŸæŠ“ç´§å­¦ä¹ ï¼Œé¢å‘å¯¹è±¡éƒ¨åˆ†æˆ‘ä»¬åé¢ä¼šè®²">
<meta name="twitter:image" content="http://www.pinjunz.com/2019/04/05/sipc_web4/searchweatherapi.png">






  <link rel="canonical" href="http://www.pinjunz.com/2019/04/05/sipc_web4/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>ç§‘æŠ€åä¼šwebç»„åç«¯æ–¹å‘ç¬¬å››æ¬¡åŸ¹è®­â€”â€”APIæ˜¯ä»€ä¹ˆä¸œä¸œ | è´¹å¿ƒæ‚¦å·±</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">è´¹å¿ƒæ‚¦å·±</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>é¦–é¡µ</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>åˆ†ç±»</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>æ ‡ç­¾</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>å…³äºæˆ‘</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>å½’æ¡£</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.pinjunz.com/2019/04/05/sipc_web4/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="èµµå“å‡">
      <meta itemprop="description" content="2021å±Šåœ¨è¯»æœ¬ç§‘ç”Ÿ">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è´¹å¿ƒæ‚¦å·±">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">ç§‘æŠ€åä¼šwebç»„åç«¯æ–¹å‘ç¬¬å››æ¬¡åŸ¹è®­â€”â€”APIæ˜¯ä»€ä¹ˆä¸œä¸œ

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-04-05 16:27:18" itemprop="dateCreated datePublished" datetime="2019-04-05T16:27:18+08:00">2019-04-05</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-04-08 10:57:55" itemprop="dateModified" datetime="2019-04-08T10:57:55+08:00">2019-04-08</time>
              
            
          </span>

          

          
            
          

          
          

          

          
            <span class="post-meta-divider">|</span>
            <span id="busuanzi_value_page_pv"></span>æ¬¡é˜…è¯»
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="é‡è¦ï¼å†™åœ¨æœ€å‰é¢"><a href="#é‡è¦ï¼å†™åœ¨æœ€å‰é¢" class="headerlink" title="é‡è¦ï¼å†™åœ¨æœ€å‰é¢"></a>é‡è¦ï¼å†™åœ¨æœ€å‰é¢</h1><p>æœ¬æ¥è¿™èŠ‚è¯¾æƒ³ç»™å¤§å®¶è®²åŸºç¡€è¯­æ³•ï¼Œä½†æ˜¯æ•´ç†è¿‡ç¨‹ä¸­å‘ç°çœŸçš„æ²¡å•¥å¥½è¯´çš„ï¼Œå¤ªå¤šä¸œè¥¿éƒ½å’Œcè¯­è¨€ä¸€æ ·ï¼Œå¹¶ä¸”å¯’å‡å·²ç»å°†å­¦ä¹ åŸºç¡€è¯­æ³•çš„ä»»åŠ¡å¸ƒç½®ç»™å¤§å®¶äº†ï¼Œè€Œä¸”æˆ‘ä»¬å¿«è¦è€ƒæ ¸äº†ï¼Œå¦‚æœæ­¤æ—¶å†è®²å¤ªå¤šåŸºç¡€è¯­æ³•ï¼Œé‚£ä¹ˆåŠ¿å¿…åœ¨è€ƒæ ¸ä¹‹å‰å¤§å®¶å­¦ä¸åˆ°ä»€ä¹ˆåç«¯æ–¹å‘æ ¸å¿ƒçš„ä¸œè¥¿ã€‚å› æ­¤æœ¬å‘¨çš„ä¸¤èŠ‚è¯¾æˆ‘ä»¬å…ˆè®²æ ¸å¿ƒå†…å®¹ï¼Œè¿™ä¸¤èŠ‚å†…å®¹å³ä¾¿ä½ ä¸ä¼šåŸºç¡€è¯­æ³•ä¹Ÿèƒ½å¬æ‡‚ã€‚åœ¨è¿™ä¸€å‘¨çš„æ—¶é—´å†…ï¼Œå¸Œæœ›åŸºç¡€è¯­æ³•ä¸å¤ªä¼šçš„åŒå­¦èƒ½å¤ŸæŠ“ç´§å­¦ä¹ ï¼Œé¢å‘å¯¹è±¡éƒ¨åˆ†æˆ‘ä»¬åé¢ä¼šè®²ï¼Œå¦‚æœä¸ä¼šä¸å¿…æ­»æŠ ã€‚<br>åœ¨è¿™ä¸€å‘¨å†…ï¼Œå¦‚æœæœ‰è§‰å¾—æ¯”è¾ƒéš¾æ‡‚çš„éƒ¨åˆ†å¯ä»¥ç§èŠç»™æˆ‘ï¼Œæœ¬å­¦æœŸçš„ç¬¬ä¸‰æ¬¡è¯¾æˆ‘ä»¬ä¼šé›†ä¸­å¤„ç†ä¸€ä¸‹åŸºæœ¬è¯­æ³•ä¸­çš„éš¾ç‚¹ï¼Œä¸‹é¢åˆ—ä¸€ä¸ªéœ€è¦è‡ªå­¦çš„åŸºç¡€è¯­æ³•åˆ—è¡¨ï¼Œåˆ—è¡¨é‡Œæ²¡æœ‰æåˆ°çš„åŸºç¡€è¯­æ³•æˆ‘ä»¬éƒ½ä¼šåœ¨ç¬¬ä¸‰æ¬¡è¯¾è®²ã€‚<br><a id="more"></a></p>
<h2 id="å› æ—¶é—´å…³ç³»ç›´æ¥ç•¥è¿‡çš„phpåŸºç¡€è¯­æ³•è¡¨ï¼Œå¸Œæœ›å¤§å®¶èƒ½åœ¨ä¸€å‘¨å†…æŠŠä¸äº†è§£çš„çœ‹ä¼šå¹¶è‡³å°‘å®è·µä¸€æ¬¡ã€‚"><a href="#å› æ—¶é—´å…³ç³»ç›´æ¥ç•¥è¿‡çš„phpåŸºç¡€è¯­æ³•è¡¨ï¼Œå¸Œæœ›å¤§å®¶èƒ½åœ¨ä¸€å‘¨å†…æŠŠä¸äº†è§£çš„çœ‹ä¼šå¹¶è‡³å°‘å®è·µä¸€æ¬¡ã€‚" class="headerlink" title="å› æ—¶é—´å…³ç³»ç›´æ¥ç•¥è¿‡çš„phpåŸºç¡€è¯­æ³•è¡¨ï¼Œå¸Œæœ›å¤§å®¶èƒ½åœ¨ä¸€å‘¨å†…æŠŠä¸äº†è§£çš„çœ‹ä¼šå¹¶è‡³å°‘å®è·µä¸€æ¬¡ã€‚"></a>å› æ—¶é—´å…³ç³»ç›´æ¥ç•¥è¿‡çš„phpåŸºç¡€è¯­æ³•è¡¨ï¼Œå¸Œæœ›å¤§å®¶èƒ½åœ¨ä¸€å‘¨å†…æŠŠä¸äº†è§£çš„çœ‹ä¼šå¹¶è‡³å°‘å®è·µä¸€æ¬¡ã€‚</h2><ul>
<li>phpè¯­è¨€åŸºç¡€<ul>
<li>æ•°æ®ç±»å‹</li>
<li>å˜é‡</li>
<li>å¸¸é‡</li>
<li>é¢„å®šä¹‰å¸¸é‡</li>
</ul>
</li>
<li>æµç¨‹æ§åˆ¶è¯­å¥<ul>
<li>æ¡ä»¶æ§åˆ¶</li>
<li>å¾ªç¯æ§åˆ¶</li>
<li>è·³è½¬è¯­å¥</li>
<li>åŒ…å«è¯­å¥</li>
</ul>
</li>
<li>å‡½æ•°<ul>
<li>å‡½æ•°çš„ä½¿ç”¨</li>
<li>å‡½æ•°çš„å‚æ•°</li>
<li>å‡½æ•°çš„è¿”å›å€¼</li>
<li>å¯å˜å‡½æ•°</li>
<li>å†…ç½®å‡½æ•°</li>
<li>åŒ¿åå‡½æ•°</li>
<li>è¿­ä»£ä¸é€’å½’</li>
</ul>
</li>
<li>å­—ç¬¦ä¸²<ul>
<li>å•å¼•å·ä¸åŒå¼•å·çš„åŒºåˆ«</li>
<li>å­—ç¬¦ä¸²è¿æ¥ç¬¦</li>
<li>å­—ç¬¦ä¸²æ“ä½œå‡½æ•°ï¼ˆå…ˆä¸çœ‹ä¹Ÿè¡Œï¼‰</li>
</ul>
</li>
<li>æ•°ç»„<ul>
<li>å¦‚ä½•ä½¿ç”¨æ•°ç»„</li>
<li>å¤šç»´æ•°ç»„</li>
<li>æ•°ç»„çš„å„ç§æ“ä½œï¼ˆå…ˆä¸çœ‹ä¹Ÿè¡Œï¼‰</li>
<li>ç³»ç»Ÿé¢„å®šä¹‰æ•°ç»„ï¼ˆä¼šè®²ï¼Œå…ˆä¸çœ‹ä¹Ÿè¡Œï¼‰</li>
</ul>
</li>
</ul>
<h2 id="å­¦ä¹ æœ¬èŠ‚è¯¾ä½ éœ€è¦æŒæ¡çš„çŸ¥è¯†ï¼šè¡¨å•ï¼Œjavascript"><a href="#å­¦ä¹ æœ¬èŠ‚è¯¾ä½ éœ€è¦æŒæ¡çš„çŸ¥è¯†ï¼šè¡¨å•ï¼Œjavascript" class="headerlink" title="å­¦ä¹ æœ¬èŠ‚è¯¾ä½ éœ€è¦æŒæ¡çš„çŸ¥è¯†ï¼šè¡¨å•ï¼Œjavascript"></a>å­¦ä¹ æœ¬èŠ‚è¯¾ä½ éœ€è¦æŒæ¡çš„çŸ¥è¯†ï¼šè¡¨å•ï¼Œjavascript</h2><p>æ¸©é¦¨æç¤ºï¼šæœ¬èŠ‚è¯¾éå¸¸é‡è¦</p>
<h1 id="apiæ˜¯ä»€ä¹ˆ"><a href="#apiæ˜¯ä»€ä¹ˆ" class="headerlink" title="apiæ˜¯ä»€ä¹ˆ"></a>apiæ˜¯ä»€ä¹ˆ</h1><p>å¦‚æœä½ åœ¨ç™¾åº¦ç™¾ç§‘ä¸Šæœç´¢ï¼Œä½ ä¼šå¾—åˆ°å¦‚ä¸‹ç»“æœï¼šAPIï¼ˆApplication Programming Interfaceï¼Œåº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼‰æ˜¯ä¸€äº›é¢„å…ˆå®šä¹‰çš„å‡½æ•°ï¼Œç›®çš„æ˜¯æä¾›åº”ç”¨ç¨‹åºä¸å¼€å‘äººå‘˜åŸºäºæŸè½¯ä»¶æˆ–ç¡¬ä»¶å¾—ä»¥è®¿é—®ä¸€ç»„ä¾‹ç¨‹çš„èƒ½åŠ›ï¼Œè€Œåˆæ— éœ€è®¿é—®æºç ï¼Œæˆ–ç†è§£å†…éƒ¨å·¥ä½œæœºåˆ¶çš„ç»†èŠ‚ã€‚é‚£ä¹ˆå†é€šä¿—ä¸€ç‚¹æ¥è¯´ï¼ŒAPIç©¶ç«Ÿæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<blockquote>
<p>åœ¨æˆ‘å­¦ä¹ è½¯ä»¶å¼€å‘ä¹‹å‰ï¼ŒAPIå¬èµ·æ¥ä¼¼ä¹åƒæ˜¯ä¸€ç§å•¤é…’ã€‚<br>è€Œç°åœ¨ï¼Œæˆ‘å¼€å§‹é¢‘ç¹ä½¿ç”¨è¿™ä¸€æœ¯è¯­ï¼Œä»¥è‡³äºæˆ‘åœ¨é…’å§é‡Œéƒ½æƒ³ç‚¹ä¸€æ¯APIæ¥å–å–çœ‹äº†ã€‚<br>é…’ä¿å‘é€çš„å“åº”æ˜¯ï¼šâ€œæŸ¥æ— æ­¤é…’â€â€”â€”404ï¼šæ‰¾ä¸åˆ°è¯¥èµ„æºã€‚</p>
</blockquote>
<p>å¥½å§æˆ‘æ‰¿è®¤ä¸Šé¢è¿™æ®µæ˜¯æŠ„çš„ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œæ•´ä¸ªé…’å§å¦‚æœç®—ä¸€ä¸ªåº”ç”¨ç¨‹åºçš„è¯æ•…äº‹é‡Œçš„é…’ä¿æ›´åƒæ˜¯api<br>å½“æˆ‘ä»¬ç‚¹é…’æ—¶å‘é…’ä¿ï¼ˆapiï¼‰å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œé…’ä¿å»æŸ¥é…’ï¼Œå¹¶å›å¤ç»™ä½ ç›¸åº”çš„ç»“æœã€‚<br>è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå®ä¾‹ï¼š</p>
<p>æœ€è¿‘æˆ‘åœ¨ç©ioså¼€å‘ï¼Œæ­£åœ¨åšä¸€ä¸ªå¤©æ°”é¢„æŠ¥çš„è½¯ä»¶ï¼Œå¤©æ°”é¢„æŠ¥è½¯ä»¶æœ€é‡è¦çš„éƒ¨åˆ†å°±æ˜¯è·å¾—æŸ¥è¯¢åŸå¸‚çš„å¤©æ°”ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä¸€è°ƒç”¨æŸå›¢ä½“ï¼ˆä¾‹å¦‚ä¸­å¤®æ°”è±¡å°ï¼‰å·²ç»å†™å¥½çš„apiè·å¾—å¤©æ°”æ•°æ®ï¼Œè¿™é‡Œæˆ‘ä¸Šç½‘æœç´¢â€œå¤©æ°”é¢„æŠ¥apiâ€å¹¶ç‚¹å‡»ç¬¬ä¸€ä¸ªæŸ¥è¯¢ç»“æœï¼š<br>  <img src="/2019/04/05/sipc_web4/searchweatherapi.png" alt="avatar"><br>é†’ç›®çš„æ¥å£åœ°å€ <a href="http://www.weather.com.cn/data/sk/101110101.html" target="_blank" rel="noopener">http://www.weather.com.cn/data/sk/101110101.html</a><br>ç‚¹è¿›å»ï¼š<br>è¿™é‡Œæˆ‘ä»¬çœ‹åˆ°äº†å‡ è¡Œæ•°æ®ï¼Œè¿™å°±æ˜¯å½“å‰è®¿é—®çš„ç»“æœã€‚<br><img src="/2019/04/05/sipc_web4/weatherjson.png" alt="avatar"><br>è¿™é‡Œçš„æ•°æ®æ˜¯æœ‰ä¼ è¾“æ ¼å¼çš„ï¼Œå½“å‰çš„æ ¼å¼ä¸ºjsonï¼Œä¸ºäº†æŸ¥çœ‹æ–¹ä¾¿ï¼Œæˆ‘ä½¿ç”¨æ¥å£æµ‹è¯•è½¯ä»¶<a href="https://www.getpostman.com/" target="_blank" rel="noopener">postman</a>é‡æ–°è°ƒç”¨è¿™ä¸ªapiï¼š<br><img src="/2019/04/05/sipc_web4/postmanapi.png" alt="avatar"><br>å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ç»“æœæŸ¥è¯¢ç»“æœ</p>
<p>çœ‹å®Œäº†ä»¥ä¸Šæ¡ˆä¾‹ï¼Œæˆ‘æƒ³ä½ å·²ç»æ¸…æ¥šåœ°çŸ¥é“apiæ˜¯åšä»€ä¹ˆçš„äº†<br>é€šå¸¸ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œä¸ä¹‹å¯¹åº”çš„apiæœ‰å¤šä¸ªï¼Œæ¯ä¸ªapiæœ‰ç€ä¸åŒçš„åˆ†å·¥ï¼Œæ¯”å¦‚æœ‰ä¸“é—¨è´Ÿè´£ç™»å½•æ³¨å†Œçš„apiï¼Œæœ‰ä¸“é—¨æŸ¥è¯¢appç‰ˆæœ¬å·çš„apiï¼Œæœ‰ä¸“é—¨ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯çš„apiâ€¦.</p>
<h2 id="å…³äºä¼ è¾“æ•°æ®çš„æ ¼å¼é—®é¢˜"><a href="#å…³äºä¼ è¾“æ•°æ®çš„æ ¼å¼é—®é¢˜" class="headerlink" title="å…³äºä¼ è¾“æ•°æ®çš„æ ¼å¼é—®é¢˜"></a>å…³äºä¼ è¾“æ•°æ®çš„æ ¼å¼é—®é¢˜</h2><p>å½“å‰ä¸»æµçš„æ•°æ®ä¼ è¾“æ ¼å¼æœ‰ä¸¤ç§</p>
<ul>
<li>json</li>
<li>xml</li>
</ul>
<p>json æ ¼å¼æ•°æ®çš„åŸºæœ¬æ ·å¼<br><img src="/2019/04/05/sipc_web4/json.png" alt="avatar"><br>xml æ ¼å¼æ•°æ®çš„åŸºæœ¬æ ·å¼<br><img src="/2019/04/05/sipc_web4/xml.png" alt="avatar"></p>
<h2 id="å¦‚ä½•å°†è·å¾—çš„è¿”å›æ•°æ®è§£æ"><a href="#å¦‚ä½•å°†è·å¾—çš„è¿”å›æ•°æ®è§£æ" class="headerlink" title="å¦‚ä½•å°†è·å¾—çš„è¿”å›æ•°æ®è§£æ"></a>å¦‚ä½•å°†è·å¾—çš„è¿”å›æ•°æ®è§£æ</h2><p>ä½¿ç”¨jsæœ‰å¤šç§æ–¹å¼ï¼Œè¿™é‡Œä½¿ç”¨ajaxï¼ˆä¸€ä¸ªjQueryæ’ä»¶çš„æ–¹æ³•ï¼‰ï¼Œå› ä¸ºæˆ‘ä»¬è®²åç«¯ï¼Œè¿™é‡Œä¸å¤šä»‹ç»<br>ç›´æ¥çœ‹jsçš„ç¤ºä¾‹ä»£ç <br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">  $(function()&#123;</span></span><br><span class="line"><span class="undefined">  $("#submit").on("click",function()&#123; //è·å¾—æ–‡æ¡£å¯¹è±¡idä¸ºsubmitï¼Œè®¾ç½®ç›‘å¬äº‹ä»¶</span></span><br><span class="line"><span class="undefined">  $.ajax(&#123;</span></span><br><span class="line"><span class="undefined">    type:"æ•°æ®æäº¤æ–¹å¼",</span></span><br><span class="line"><span class="undefined">    url:"apiURL",</span></span><br><span class="line"><span class="undefined">    headers : &#123; 'content-type' : 'application/x-www-form-urlencoded' &#125;,//è¯·æ±‚å¤´</span></span><br><span class="line"><span class="undefined">    data: $('#form1').serialize(), //serializeæ–¹æ³•è·å¾—è¡¨å•å†…å®¹</span></span><br><span class="line"><span class="undefined">    async: false,  //æ˜¯å¦å¼‚æ­¥å¤„ç†</span></span><br><span class="line"><span class="undefined">    timeout : 50000, //åŒæ­¥å¤„ç†çš„è¶…æ—¶é™åˆ¶</span></span><br><span class="line"><span class="undefined">    dataType:"json", //æ•°æ®æ ¼å¼ä¸ºjson</span></span><br><span class="line"><span class="undefined">    success:function(res)&#123;  //æˆåŠŸ</span></span><br><span class="line"><span class="undefined">      alert(res);</span></span><br><span class="line"><span class="undefined">    &#125;,</span></span><br><span class="line"><span class="undefined">    error:function(XMLHttpRequest, textStatus, errorThrown)&#123; //å¤±è´¥</span></span><br><span class="line"><span class="undefined">      alert(XMLHttpRequest.status);//çŠ¶æ€ç </span></span><br><span class="line"><span class="undefined">      alert(XMLHttpRequest.readyState);//çŠ¶æ€</span></span><br><span class="line"><span class="undefined">      alert(textStatus);//é”™è¯¯ä¿¡æ¯</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    &#125;)</span></span><br><span class="line"><span class="undefined">    &#125;)</span></span><br><span class="line"><span class="undefined">&#125;)</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>å®šä¹‰æ•°æ®ç±»å‹ä¸ºjsonï¼Œè¿”å›æˆåŠŸåè¾“å‡ºæç¤ºæ¡†alert</p>
<h3 id="å°å®éªŒï¼Œç”¨phpå¼€å‘ä¸€ä¸ªæ¥å£å¹¶åœ¨å‰ç«¯è°ƒç”¨å®ƒ"><a href="#å°å®éªŒï¼Œç”¨phpå¼€å‘ä¸€ä¸ªæ¥å£å¹¶åœ¨å‰ç«¯è°ƒç”¨å®ƒ" class="headerlink" title="å°å®éªŒï¼Œç”¨phpå¼€å‘ä¸€ä¸ªæ¥å£å¹¶åœ¨å‰ç«¯è°ƒç”¨å®ƒ"></a>å°å®éªŒï¼Œç”¨phpå¼€å‘ä¸€ä¸ªæ¥å£å¹¶åœ¨å‰ç«¯è°ƒç”¨å®ƒ</h3><h4 id="è¯•éªŒè¦æ±‚"><a href="#è¯•éªŒè¦æ±‚" class="headerlink" title="è¯•éªŒè¦æ±‚"></a>è¯•éªŒè¦æ±‚</h4><ul>
<li>åç«¯æ¥å£çš„è®¾è®¡<ul>
<li>è·å¾—è¯·æ±‚ get/post</li>
<li>å¤„ç†æ•°æ®</li>
<li>è¿”å›æ•°æ® json_encode / echo <xml></xml></li>
</ul>
</li>
<li>å‰ç«¯è¯·æ±‚<ul>
<li>åŸç”Ÿjs</li>
<li>ajaxæ¨¡æ‹Ÿè¯·æ±‚</li>
</ul>
</li>
<li>æ¥å£æµ‹è¯•å’Œå¸¸è§é”™è¯¯<ul>
<li>æŒæ¡è°ƒè¯•çš„æ–¹æ³•</li>
</ul>
</li>
</ul>
<h3 id="å…³äºåŒæ­¥å’Œå¼‚æ­¥å¤„ç†"><a href="#å…³äºåŒæ­¥å’Œå¼‚æ­¥å¤„ç†" class="headerlink" title="å…³äºåŒæ­¥å’Œå¼‚æ­¥å¤„ç†"></a>å…³äºåŒæ­¥å’Œå¼‚æ­¥å¤„ç†</h3><p>è¿˜è®°å¾—å½“å¹´åšä¸€ä¸ªé¡¹ç›®ï¼Œå› ä¸ºè¿™ä¸ªåƒå±çš„ajaxå¡äº†å¥½å‡ å¤©ï¼Œä¸€ä¸ªæ˜ŸæœŸæ¯å¤©éƒ½é€šå®µç ”ç©¶ï¼Œæ— å¥ˆajaxæ— è®ºå¦‚ä½•ä¹Ÿæ‹¿ä¸åˆ°æ¥å£è¿”å›çš„æ•°æ®<br>ä¸Šç½‘ç™¾åº¦å‘ç°ajaxè¿™é‡Œå‡ºçš„é—®é¢˜è¿˜ç¡®å®æ˜¯æœ‰ä¸å°‘äººã€‚æœ€åé€šè¿‡å„ç§å„æ ·çš„è¯•éªŒæ€»ç®—ç†è§£äº†ajaxçš„åŒæ­¥å’Œå¼‚æ­¥<br>å®˜æ–¹ç»™å‡ºçš„asyncè§£é‡Šï¼š</p>
<blockquote>
<p>async<br>Boolean<br>Default: true</p>
<p>By default, all requests are sent asynchronous (e.g. this is set to true by default). If you need synchronous requests, set this option to &gt;false. Note that synchronous requests may temporarily lock the browser, disabling any actions while the request is active.</p>
<p>success<br>Function</p>
<p>A function to be called if the request succeeds. The function gets passed two arguments: The data returned from the server, formatted &gt;according to the â€˜dataTypeâ€™ parameter, and a string describing the status. This is an Ajax Event.</p>
</blockquote>
<p>åœ¨è¿™é‡Œï¼Œasyncé»˜è®¤çš„è®¾ç½®å€¼ä¸ºtrueï¼Œè¿™ç§æƒ…å†µä¸ºå¼‚æ­¥æ–¹å¼ï¼Œå°±æ˜¯è¯´å½“ajaxå‘é€è¯·æ±‚åï¼Œåœ¨ç­‰å¾…serverç«¯è¿”å›çš„è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå‰å°ä¼šç»§ç»­ æ‰§è¡Œajaxå—åé¢çš„è„šæœ¬ï¼Œç›´åˆ°serverç«¯è¿”å›æ­£ç¡®çš„ç»“æœæ‰ä¼šå»æ‰§è¡Œsuccessï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ—¶å€™æ‰§è¡Œçš„æ˜¯ä¸¤ä¸ªçº¿ç¨‹ï¼Œajaxå—å‘å‡ºè¯·æ±‚åä¸€ä¸ªçº¿ç¨‹ å’Œajaxå—åé¢çš„è„šæœ¬ï¼ˆå¦ä¸€ä¸ªçº¿ç¨‹ï¼‰<br>ç°åœ¨æˆ‘ä»¬åšä¸ªè¯•éªŒï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>ajaxtest<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"form"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">for</span> = <span class="string">"sno"</span>&gt;</span>è¾“å…¥è¦æŸ¥è¯¢çš„sipcerå­¦å·<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"sno"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span> = <span class="string">"submit"</span>&gt;</span>æŸ¥è¯¢<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">  $(function()&#123;</span></span><br><span class="line"><span class="undefined">  $("#submit").on("click",function()&#123; //è·å¾—æ–‡æ¡£å¯¹è±¡idä¸ºsubmitï¼Œè®¾ç½®ç›‘å¬äº‹ä»¶</span></span><br><span class="line"><span class="undefined">  $.ajax(&#123;</span></span><br><span class="line"><span class="undefined">    type:"post",</span></span><br><span class="line"><span class="undefined">    url:"response.php",</span></span><br><span class="line"><span class="undefined">    headers : &#123; 'content-type' : 'application/x-www-form-urlencoded' &#125;,//è¯·æ±‚å¤´</span></span><br><span class="line"><span class="undefined">    data: $('#form').serialize(), //serializeæ–¹æ³•è·å¾—è¡¨å•å†…å®¹</span></span><br><span class="line"><span class="undefined">    async: false,  //æ˜¯å¦å¼‚æ­¥å¤„ç†</span></span><br><span class="line"><span class="undefined">    //timeout : 50000, //åŒæ­¥å¤„ç†çš„è¶…æ—¶é™åˆ¶</span></span><br><span class="line"><span class="undefined">    dataType:"json", //æ•°æ®æ ¼å¼ä¸ºjson</span></span><br><span class="line"><span class="undefined">    success:function(res)&#123;  //æˆåŠŸ</span></span><br><span class="line"><span class="undefined">      alert(JSON.stringify(res));</span></span><br><span class="line"><span class="undefined">    &#125;,</span></span><br><span class="line"><span class="undefined">    error:function(XMLHttpRequest, textStatus, errorThrown)&#123; //å¤±è´¥</span></span><br><span class="line"><span class="undefined">      alert(XMLHttpRequest.status);//çŠ¶æ€ç </span></span><br><span class="line"><span class="undefined">      alert(XMLHttpRequest.readyState);//çŠ¶æ€</span></span><br><span class="line"><span class="undefined">      alert(textStatus);//é”™è¯¯ä¿¡æ¯</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    &#125;)</span></span><br><span class="line"><span class="undefined">    fun();</span></span><br><span class="line"><span class="undefined">    &#125;)</span></span><br><span class="line"><span class="undefined">&#125;)</span></span><br><span class="line"><span class="undefined">function fun()&#123;</span></span><br><span class="line"><span class="undefined">  alert('æŸ¥è¯¢å®Œæ¯•ï¼');</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>ä»¥ä¸Šæ˜¯ä¸€ä¸ªè®¾ç½®åŒæ­¥å¤„ç†çš„æ ·ä¾‹ï¼Œåªæœ‰æ‹¿åˆ°è¿”å›æ•°æ®åæ‰ä¼šæ‰§è¡Œåé¢çš„å‡½æ•°<br>è¿”å›ç»“æœå…ˆå‡ºäº†æŸ¥è¯¢ç»“æœï¼Œå¾ˆæˆåŠŸ<br><img src="/2019/04/05/sipc_web4/asyncfalse.png" alt="avatar"><br>å½“æˆ‘è®¾ç½®å¼‚æ­¥å¤„ç†çš„æ—¶å€™ï¼šfunå‡½æ•°å¹¶æ²¡æœ‰ç­‰å¾…æ¥å£çš„è¿”å›ç»“æœå°±å…ˆä¸€æ­¥æ‰§è¡Œäº†ï¼Œé¦–å…ˆå¼¹å‡ºçš„å¯¹è¯æ¡†æ˜¯æŸ¥è¯¢å®Œæ¯•ï¼Œä¸ç¬¦åˆæˆ‘ä»¬çš„é¢„æœŸï¼š<br><img src="/2019/04/05/sipc_web4/asynctrue.png" alt="avatar"><br>ä¸è¦å°çœ‹åŒæ­¥å¼‚æ­¥å¤„ç†ï¼Œæœ‰æ—¶ä¼šå¼•èµ·éå¸¸ä¸¥é‡çš„åæœï¼šæ¯”å¦‚è…¾è®¯æŸè”ç›Ÿç»å¸¸æçš„æŠ½å¥–é¡µé¢ï¼š<br>å½“å……å€¼é’»çŸ³ä¹‹åï¼Œæ¯æ¬¡æŠ½å¥–å¦‚æœåšæˆåŒæ­¥å¤„ç†ï¼Œå¾ˆæœ‰å¯èƒ½ä¼šåœ¨ç”¨æˆ·èŠ±å…‰è´¦æˆ·å†…é’»çŸ³ä¹‹åå¯ä»¥ç»§ç»­æŠ½å¥–..<br>å½“ç„¶åªæ˜¯ä¸¾ä¸ªä¾‹å­ï¼Œç›¸ä¿¡è…¾è®¯ä¸ä¼šåªåœ¨å‰ç«¯é¡µé¢åšä¸€ä¸ªåˆ¤æ–­çš„ğŸ™ƒ</p>
<h1 id="è¿›é˜¶ï¼š-è·¨åŸŸè¯·æ±‚"><a href="#è¿›é˜¶ï¼š-è·¨åŸŸè¯·æ±‚" class="headerlink" title="è¿›é˜¶ï¼š è·¨åŸŸè¯·æ±‚"></a>è¿›é˜¶ï¼š è·¨åŸŸè¯·æ±‚</h1><h2 id="åŒæºç­–ç•¥"><a href="#åŒæºç­–ç•¥" class="headerlink" title="åŒæºç­–ç•¥"></a>åŒæºç­–ç•¥</h2><p>æµè§ˆå™¨å‡ºäºå®‰å…¨æ–¹é¢çš„è€ƒè™‘ï¼Œåªå…è®¸ä¸æœ¬åŸŸä¸‹çš„æ¥å£äº¤äº’ï¼ˆå½“å‰é¡µé¢å¾—urlå¿…é¡»å’Œæ¥å£å¾—urlæ˜¯åŒæºçš„ï¼‰ã€‚ä¸åŒæºçš„å®¢æˆ·ç«¯è„šæœ¬åœ¨æ²¡æœ‰æ˜ç¡®æˆæƒçš„æƒ…å†µä¸‹ï¼Œä¸èƒ½è¯»å†™å¯¹æ–¹çš„èµ„æºã€‚</p>
<h3 id="åŒæº"><a href="#åŒæº" class="headerlink" title="åŒæº"></a>åŒæº</h3><ul>
<li>åŒåè®®ï¼šå¦‚éƒ½æ˜¯httpæˆ–è€…https</li>
<li>åŒåŸŸåï¼šå¦‚éƒ½æ˜¯<a href="https://www.pinjunz.com/a">https://www.pinjunz.com/a</a> å’Œ<a href="https://www.pinjunz.com/b">https://www.pinjunz.com/b</a></li>
<li>åŒç«¯å£ï¼šå¦‚éƒ½æ˜¯80ç«¯å£</li>
</ul>
<p>ä»¥ä¸Šæœ‰ä¸€æ¡ä¸æ»¡è¶³å³ä¸ºä¸åŒæº<br>æˆ‘åœ¨æœ¬æœºç”¨ajaxåšä¸€ä¸ªè·¨åŸŸè¯·æ±‚ï¼Œä¼šå‡ºç°æ‹’ç»è®¿é—®çš„æƒ…å†µï¼Œå› ä¸ºajaxä¸æ”¯æŒè·¨åŸŸ<br><img src="/2019/04/05/sipc_web4/ky.png" alt="avatar"></p>
<h2 id="è·¨åŸŸè§£å†³æ–¹æ³•ï¼ˆæœ‰å¤šç§ï¼‰"><a href="#è·¨åŸŸè§£å†³æ–¹æ³•ï¼ˆæœ‰å¤šç§ï¼‰" class="headerlink" title="è·¨åŸŸè§£å†³æ–¹æ³•ï¼ˆæœ‰å¤šç§ï¼‰"></a>è·¨åŸŸè§£å†³æ–¹æ³•ï¼ˆæœ‰å¤šç§ï¼‰</h2><ul>
<li>jsonp</li>
<li>corsï¼ˆphpä¿®æ”¹è¯·æ±‚å¤´ï¼‰</li>
<li>nginxåå‘ä»£ç†</li>
</ul>
<p>å› ä¸ºæœ‰äº›åŒå­¦phpçš„åŸºç¡€å¯èƒ½ç°åœ¨è¿˜ä¸å¤ªå¥½ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œç”¨å¤§å®¶å·²ç»å­¦è¿‡çš„jsçš„æ–¹æ³•</p>
<h3 id="jsonpè·¨åŸŸï¼š"><a href="#jsonpè·¨åŸŸï¼š" class="headerlink" title="jsonpè·¨åŸŸï¼š"></a>jsonpè·¨åŸŸï¼š</h3><blockquote>
<p>JSONPï¼ˆJSON with Paddingï¼šå¡«å……å¼JSON)ï¼Œåº”ç”¨JSONçš„ä¸€ç§æ–°æ–¹æ³•ï¼Œ<br>JSONã€JSONPçš„åŒºåˆ«ï¼š<br>ã€€1ã€JSONè¿”å›çš„æ˜¯ä¸€ä¸²æ•°æ®ã€JSONPè¿”å›çš„æ˜¯è„šæœ¬ä»£ç (åŒ…å«ä¸€ä¸ªå‡½æ•°è°ƒç”¨)<br>ã€€2ã€JSONP åªæ”¯æŒgetè¯·æ±‚ã€ä¸æ”¯æŒpostè¯·æ±‚<br>ã€€(ç±»ä¼¼å¾€é¡µé¢æ·»åŠ ä¸€ä¸ªscriptæ ‡ç­¾ï¼Œé€šè¿‡srcå±æ€§å»è§¦å‘å¯¹æŒ‡å®šåœ°å€çš„è¯·æ±‚,æ•…åªèƒ½æ˜¯Getè¯·æ±‚)</p>
</blockquote>
<p>ä»¥ä¸Šæ˜¯æŠ„çš„ï¼Œæ›´é€šä¿—ä¸€ç‚¹çš„è®²ï¼Œå°±æ˜¯ï¼š</p>
<blockquote>
<p>HTML ä¸­ script æ ‡ç­¾å¯ä»¥åŠ è½½å…¶ä»–åŸŸä¸‹çš„jsï¼Œä¹Ÿå°±æ˜¯è¯´scriptçš„srcèƒ½ä½¿ç”¨ä»»ä½•ç½‘ç«™å¯¹åº”å¾—æ–‡ä»¶ï¼Œåªè¦è¯¥ç½‘ç«™æ„¿æ„å»æä¾›è¿™ä¸ªä¸œè¥¿ã€‚</p>
</blockquote>
<h4 id="å‰ç«¯æ ¸å¿ƒä»£ç ï¼š"><a href="#å‰ç«¯æ ¸å¿ƒä»£ç ï¼š" class="headerlink" title="å‰ç«¯æ ¸å¿ƒä»£ç ï¼š"></a>å‰ç«¯æ ¸å¿ƒä»£ç ï¼š</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">//è¯¥éƒ¨åˆ†åœ¨tomcatæœåŠ¡å™¨ä¸Šï¼Œç«¯å£å·8080ï¼Œä¸ºäº†åŒºåˆ«äºapacheçš„é»˜è®¤ç«¯å£80ï¼Œæ¥é€ æˆä¸€ä¸ªè·¨åŸŸè®¿é—®</span><br><span class="line"><span class="tag">&lt;<span class="name">%@</span> <span class="attr">page</span> <span class="attr">contentType</span>=<span class="string">"text/html;charset=UTF-8"</span> <span class="attr">language</span>=<span class="string">"java"</span> %&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>è·¨åŸŸæŸ¥è¯¢<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> <span class="comment">&lt;!-- jQuery Library --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span> = <span class="string">"search"</span>&gt;</span>ç‚¹å‡»è¿™é‡ŒæŸ¥è¯¢ä¿¡æ¯ï¼<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    $("button").click(function()&#123;</span></span><br><span class="line"><span class="undefined">        var script = document.createElement('script');</span></span><br><span class="line"><span class="undefined">        script.type = 'text/javascript';</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        // ä¼ å‚å¹¶æŒ‡å®šå›è°ƒæ‰§è¡Œå‡½æ•°ä¸ºonBack</span></span><br><span class="line"><span class="undefined">        script.src = 'http://127.0.0.1:80/sipctest/response.php?callback=showdata';</span></span><br><span class="line"><span class="undefined">        document.head.appendChild(script);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    &#125;)</span></span><br><span class="line"><span class="undefined">    // å›è°ƒæ‰§è¡Œå‡½æ•°</span></span><br><span class="line"><span class="undefined">    function showdata(res) &#123;</span></span><br><span class="line"><span class="undefined">        alert(JSON.stringify(res));</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="åç«¯éƒ¨åˆ†æ ¸å¿ƒä»£ç "><a href="#åç«¯éƒ¨åˆ†æ ¸å¿ƒä»£ç " class="headerlink" title="åç«¯éƒ¨åˆ†æ ¸å¿ƒä»£ç "></a>åç«¯éƒ¨åˆ†æ ¸å¿ƒä»£ç </h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//è¯¥éƒ¨åˆ†åœ¨apacheæœåŠ¡å™¨ä¸Šï¼Œç«¯å£å·ä¸º80</span></span><br><span class="line"><span class="keyword">require_once</span>(<span class="string">"conn.php"</span>);</span><br><span class="line">$result = mysqli_fetch_assoc($conn -&gt; query(<span class="string">"select *  from sipcer where sno = '20175552'"</span>));</span><br><span class="line">$callback = !<span class="keyword">empty</span>($_GET[<span class="string">'callback'</span>]) ? trim($_GET[<span class="string">'callback'</span>]) : <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!<span class="keyword">empty</span>($callback)) &#123;</span><br><span class="line">    $data = json_encode($result);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"&#123;$callback&#125;(&#123;$data&#125;);"</span>;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘ä½¿ç”¨äº†åŸç”Ÿçš„jsä»£ç ï¼Œè®©å¤§å®¶æ›´å¥½çš„ç†è§£jsonpçš„åŸç†ï¼Œajaxå¯¹jsonpä¹Ÿæœ‰å°è£…ï¼Œéå¸¸ç®€å•ã€‚<br>ä¸‹é¢ç»™å‡ºè·¨åŸŸæˆåŠŸåçš„æˆªå›¾ï¼š<br><img src="/2019/04/05/sipc_web4/kyresult.png" alt="avatar"></p>
<h3 id="cors"><a href="#cors" class="headerlink" title="cors"></a>cors</h3><p>åŸç†ï¼š</p>
<blockquote>
<p>Cross-Origin Resource Sharingï¼ŒW3Cåˆ¶å®šçš„è·¨åŸŸèµ„æºåˆ†äº«æ ‡å‡†ã€‚postå‰ä¼šäº§ç”Ÿä¸€æ¬¡optionså—…æ¢ï¼ˆç§°ä¹‹ä¸ºpreflightï¼Œä½†ç®€å•è¯·æ±‚ä¸ä¼šå‡ºç°ï¼‰æ¥ç¡®è®¤æœ‰å¦è·¨åŸŸè¯·æ±‚çš„æƒé™ï¼›å®¢æˆ·ç«¯postæ—¶ä¼šå¸¦ä¸ŠOriginå¤´æŒ‡ç¤ºæ¥æºç½‘ç«™ï¼ŒæœåŠ¡ç«¯å“åº”æ—¶éœ€å¸¦ä¸ŠAccess-Control-Allow-Originå¤´ä¸Originå¤´çš„å€¼åŒ¹é…ï¼Œä»¥ç¤ºè®¸å¯ã€‚</p>
</blockquote>
<p>å‰ç«¯ä»£ç ä¸é¡»æ”¹å˜ï¼Œåç«¯ç®€å•æ¥è¯´å°±æ˜¯ä»¥ä¸‹æµç¨‹</p>
<ol>
<li>åç«¯éªŒè¯å®‰å…¨æ€§</li>
<li>ä¸å®‰å…¨ä¸ä½œå¤„ç†</li>
<li>å®‰å…¨phpä¿®æ”¹è¯·æ±‚å¤´ï¼Œæ·»åŠ header( â€œ Access-Control-Allow-Origin: åŸŸåâ€ );</li>
</ol>
<p>~~ æœ€åï¼šå®Œæˆä¸€ä¸ªè·å–IPæ‰€åœ¨åœ°å¹¶è°ƒèµ·åœ°å›¾çš„webé¡µé¢~~</p>
<h1 id="æœ€åï¼šå®Œæˆä¸€ä¸ªè·å–IPæ‰€åœ¨åœ°å¹¶è§£æjsonçš„é¡µé¢"><a href="#æœ€åï¼šå®Œæˆä¸€ä¸ªè·å–IPæ‰€åœ¨åœ°å¹¶è§£æjsonçš„é¡µé¢" class="headerlink" title="æœ€åï¼šå®Œæˆä¸€ä¸ªè·å–IPæ‰€åœ¨åœ°å¹¶è§£æjsonçš„é¡µé¢"></a>æœ€åï¼šå®Œæˆä¸€ä¸ªè·å–IPæ‰€åœ¨åœ°å¹¶è§£æjsonçš„é¡µé¢</h1><p>äº‹å®ä¸Šï¼šä¸Šé¢ç»™å‡ºçš„å¤©æ°”é¢„æŠ¥apiæ˜¯å·®ä¸å¤š10å¹´å‰çš„äº†ï¼Œå·²ç»æ²¡æ³•ä½¿ç”¨ï¼Œç”³è¯·å…¶ä»–å¤©æ°”é¢„æŠ¥apiçš„ä½¿ç”¨æƒé™éœ€è¦æ—¶é—´å®¡æ‰¹ï¼Œæ—¶é—´æœ‰é™ï¼Œè¿™é‡Œæˆ‘ç”¨æˆ‘ä»¥å‰åšé¡¹ç›®ç”¨åˆ°è¿‡çš„ç™¾åº¦åœ°å›¾apiåšæ¼”ç¤ºï¼š</p>
<ol>
<li>æ‰“å¼€ç™¾åº¦åœ°å›¾apié¡µé¢ï¼Œå› ä¸ºæˆ‘ä»¬è¦åšä¸€ä¸ªç½‘é¡µï¼Œæ‰€ä»¥æ‰¾åˆ°webæœåŠ¡API<img src="/2019/04/05/sipc_web4/baiduapi.png" alt="avatar"></li>
<li>æ‰¾åˆ°æ™®é€šIPå®šä½<img src="/2019/04/05/sipc_web4/ip.png" alt="avatar"></li>
<li>ä»”ç»†é˜…è¯»æ¥å£æ–‡æ¡£<img src="/2019/04/05/sipc_web4/ipapidocument.png" alt="avatar"></li>
<li>æ ¹æ®æ¥å£æ–‡æ¡£å’Œ<del>ç™¾åº¦ç»™å‡ºçš„è°ƒèµ·åœ°å›¾çš„jsä»£ç </del>å®Œæˆdemo<img src="/2019/04/05/sipc_web4/response1.png" alt="avatar"><h2 id="æºç "><a href="#æºç " class="headerlink" title="æºç "></a>æºç </h2>ä¸€ä¸ªè´¦å·ä¸€å¤©ä½¿ç”¨apiçš„æ¬¡æ•°æœ‰é™ï¼Œæ‰€ä»¥æå€¡æ³¨å†Œä¸€ä¸ªè‡ªå·±çš„å¼€å‘è€…è´¦æˆ·å¹¶ç”³è¯·è‡ªå·±çš„ak<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span><br><span class="line">	&lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"initial-scale=1.0, user-scalable=no"</span> /&gt;</span><br><span class="line">	&lt;style type=<span class="string">"text/css"</span>&gt;</span><br><span class="line">		body, html,#allmap &#123;width: 100%;height: 100%;overflow: hidden;margin:0;font-family:"å¾®è½¯é›…é»‘";&#125;</span><br><span class="line">	&lt;<span class="regexp">/style&gt;</span></span><br><span class="line"><span class="regexp">	&lt;script src="jquery.js"&gt;&lt;/</span>script&gt;</span><br><span class="line">	&lt;title&gt;IPå®šä½è·å–å½“å‰åŸå¸‚&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;span&gt;ipåœ°å€ä¸º&lt;span&gt;<span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span> = <span class="string">"ip"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">  &lt;table border=<span class="string">"1"</span>&gt;</span><br><span class="line">  &lt;tr&gt;</span><br><span class="line">    &lt;th&gt;åŸå¸‚&lt;<span class="regexp">/th&gt;</span></span><br><span class="line"><span class="regexp">    &lt;th&gt;åæ ‡&lt;/</span>th&gt;</span><br><span class="line">  &lt;<span class="regexp">/tr&gt;</span></span><br><span class="line"><span class="regexp">  &lt;tr&gt;</span></span><br><span class="line"><span class="regexp">    &lt;td id = "city"&gt;&lt;/</span>td&gt;</span><br><span class="line">    &lt;td id = <span class="string">"xy"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line">  &lt;<span class="regexp">/tr&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>table&gt;</span><br><span class="line">&lt;button type=<span class="string">"button"</span> id =<span class="string">"button"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>html&gt;</span><br><span class="line">&lt;script src=<span class="string">"http://pv.sohu.com/cityjson?ie=utf-8"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> ip = <span class="built_in">document</span>.getElementById(<span class="string">"ip"</span>);</span><br><span class="line">		ip.innerHTML = returnCitySN[<span class="string">"cip"</span>];</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;script type="text/</span>javascript<span class="string">"&gt;</span></span><br><span class="line"><span class="string">	var ipstr = ip.innerHTML; //jsè·å¾—ip</span></span><br><span class="line"><span class="string">	var url = "</span>http:<span class="comment">//api.map.baidu.com/location/ip?ip=" + ipstr + "&amp;ak=wiCQqBk1Vqtx9ViHZwbzwGEnn1so5tyG";</span></span><br><span class="line">	<span class="built_in">console</span>.log(url)</span><br><span class="line">	$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  $(<span class="string">"#button"</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="comment">//è·å¾—æ–‡æ¡£å¯¹è±¡idä¸ºsubmitï¼Œè®¾ç½®ç›‘å¬äº‹ä»¶</span></span><br><span class="line">  $.ajax(&#123;</span><br><span class="line">    type:<span class="string">"get"</span>,</span><br><span class="line">    url: url,</span><br><span class="line">    headers : &#123; <span class="string">'content-type'</span> : <span class="string">'application/x-www-form-urlencoded'</span> &#125;,<span class="comment">//è¯·æ±‚å¤´</span></span><br><span class="line">    <span class="comment">//data: $('#form').serialize(), //serializeæ–¹æ³•è·å¾—è¡¨å•å†…å®¹</span></span><br><span class="line">    <span class="keyword">async</span>: <span class="literal">false</span>,  <span class="comment">//æ˜¯å¦å¼‚æ­¥å¤„ç†</span></span><br><span class="line">    <span class="comment">//timeout : 50000, //åŒæ­¥å¤„ç†çš„è¶…æ—¶é™åˆ¶</span></span><br><span class="line">    dataType:<span class="string">"jsonp"</span>, <span class="comment">//æ•°æ®æ ¼å¼ä¸ºjsonp</span></span><br><span class="line">    success:<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;  <span class="comment">//æˆåŠŸ</span></span><br><span class="line">    	$(<span class="string">"#city"</span>).text(res.content.address_detail.city);</span><br><span class="line">			$(<span class="string">"#xy"</span>).text(res.content.point.x + <span class="string">" "</span> +  res.content.point.y);</span><br><span class="line">    &#125;,</span><br><span class="line">    error:<span class="function"><span class="keyword">function</span>(<span class="params">XMLHttpRequest, textStatus, errorThrown</span>)</span>&#123; <span class="comment">//å¤±è´¥</span></span><br><span class="line">      alert(XMLHttpRequest.status);<span class="comment">//çŠ¶æ€ç </span></span><br><span class="line">      alert(XMLHttpRequest.readyState);<span class="comment">//çŠ¶æ€</span></span><br><span class="line">      alert(textStatus);<span class="comment">//é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">    &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>â€¦å…¶å®åœ¨åšå®Œä¹‹åæˆ‘æ‰å‘ç°è‡ªå·±ä¹Ÿæ²¡æœ‰å¥½å¥½çœ‹æ¥å£æ–‡æ¡£ï¼Œäººå®¶æ˜æ˜è¯´äº†ipä¸å¡«å°±é»˜è®¤æ˜¯å½“å‰ipï¼Œæˆ‘è¿˜è´¹äº‹çš„å»è°ƒç”¨äº†ä¸€ä¸ªæ–°æµªçš„æ¥å£â€¦</p>
<h1 id="å†™åœ¨æœ€åï¼Œæ³¨æ„æ¥å£æ–‡æ¡£çš„è§„èŒƒï¼"><a href="#å†™åœ¨æœ€åï¼Œæ³¨æ„æ¥å£æ–‡æ¡£çš„è§„èŒƒï¼" class="headerlink" title="å†™åœ¨æœ€åï¼Œæ³¨æ„æ¥å£æ–‡æ¡£çš„è§„èŒƒï¼"></a>å†™åœ¨æœ€åï¼Œæ³¨æ„æ¥å£æ–‡æ¡£çš„è§„èŒƒï¼</h1>
      
    </div>

    

    
    
    

    

    
      
    
    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>å¦‚æœå¯¹ä½ æœ‰ç”¨é€æˆ‘ç‚¹é›¶é£Ÿå§( â€¢Ì€ Ï‰ â€¢Ì )ï¼</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>æ‰“èµ</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.png" alt="èµµå“å‡ å¾®ä¿¡æ”¯ä»˜">
        <p>å¾®ä¿¡æ”¯ä»˜</p>
      </div>
    

    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/è®°å½•/" rel="tag"># è®°å½•</a>
          
            <a href="/tags/åŸ¹è®­/" rel="tag"># åŸ¹è®­</a>
          
            <a href="/tags/SIPC/" rel="tag"># SIPC</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/03/15/weekly190315/" rel="next" title="å‘¨è®°ï¼šå…³äºåŠªåŠ›è¿™ä»¶å°äº‹ğŸ˜ˆ">
                <i class="fa fa-chevron-left"></i> å‘¨è®°ï¼šå…³äºåŠªåŠ›è¿™ä»¶å°äº‹ğŸ˜ˆ
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/04/07/ios1/" rel="prev" title="ios1">
                ios1 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="èµµå“å‡">
            
              <p class="site-author-name" itemprop="name">èµµå“å‡</p>
              <p class="site-description motion-element" itemprop="description">2021å±Šåœ¨è¯»æœ¬ç§‘ç”Ÿ</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">20</span>
                    <span class="site-state-item-name">æ—¥å¿—</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">11</span>
                    <span class="site-state-item-name">æ ‡ç­¾</span>
                  
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:834550296@qq.com" title="E-Mail &rarr; mailto:834550296@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                å‹é“¾
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://chenxiumiao.cn/" title="https://chenxiumiao.cn/" rel="noopener" target="_blank">è¾°å®¿å–µ</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.cactus1102.club" title="https://www.cactus1102.club" rel="noopener" target="_blank">D&X's Studio.</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://codeminions.github.io" title="https://codeminions.github.io" rel="noopener" target="_blank">Minions</a>
                  </li>
                
              </ul>
            </div>
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#é‡è¦ï¼å†™åœ¨æœ€å‰é¢"><span class="nav-number">1.</span> <span class="nav-text">é‡è¦ï¼å†™åœ¨æœ€å‰é¢</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#å› æ—¶é—´å…³ç³»ç›´æ¥ç•¥è¿‡çš„phpåŸºç¡€è¯­æ³•è¡¨ï¼Œå¸Œæœ›å¤§å®¶èƒ½åœ¨ä¸€å‘¨å†…æŠŠä¸äº†è§£çš„çœ‹ä¼šå¹¶è‡³å°‘å®è·µä¸€æ¬¡ã€‚"><span class="nav-number">1.1.</span> <span class="nav-text">å› æ—¶é—´å…³ç³»ç›´æ¥ç•¥è¿‡çš„phpåŸºç¡€è¯­æ³•è¡¨ï¼Œå¸Œæœ›å¤§å®¶èƒ½åœ¨ä¸€å‘¨å†…æŠŠä¸äº†è§£çš„çœ‹ä¼šå¹¶è‡³å°‘å®è·µä¸€æ¬¡ã€‚</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å­¦ä¹ æœ¬èŠ‚è¯¾ä½ éœ€è¦æŒæ¡çš„çŸ¥è¯†ï¼šè¡¨å•ï¼Œjavascript"><span class="nav-number">1.2.</span> <span class="nav-text">å­¦ä¹ æœ¬èŠ‚è¯¾ä½ éœ€è¦æŒæ¡çš„çŸ¥è¯†ï¼šè¡¨å•ï¼Œjavascript</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#apiæ˜¯ä»€ä¹ˆ"><span class="nav-number">2.</span> <span class="nav-text">apiæ˜¯ä»€ä¹ˆ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#å…³äºä¼ è¾“æ•°æ®çš„æ ¼å¼é—®é¢˜"><span class="nav-number">2.1.</span> <span class="nav-text">å…³äºä¼ è¾“æ•°æ®çš„æ ¼å¼é—®é¢˜</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å¦‚ä½•å°†è·å¾—çš„è¿”å›æ•°æ®è§£æ"><span class="nav-number">2.2.</span> <span class="nav-text">å¦‚ä½•å°†è·å¾—çš„è¿”å›æ•°æ®è§£æ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#å°å®éªŒï¼Œç”¨phpå¼€å‘ä¸€ä¸ªæ¥å£å¹¶åœ¨å‰ç«¯è°ƒç”¨å®ƒ"><span class="nav-number">2.2.1.</span> <span class="nav-text">å°å®éªŒï¼Œç”¨phpå¼€å‘ä¸€ä¸ªæ¥å£å¹¶åœ¨å‰ç«¯è°ƒç”¨å®ƒ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#è¯•éªŒè¦æ±‚"><span class="nav-number">2.2.1.1.</span> <span class="nav-text">è¯•éªŒè¦æ±‚</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å…³äºåŒæ­¥å’Œå¼‚æ­¥å¤„ç†"><span class="nav-number">2.2.2.</span> <span class="nav-text">å…³äºåŒæ­¥å’Œå¼‚æ­¥å¤„ç†</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#è¿›é˜¶ï¼š-è·¨åŸŸè¯·æ±‚"><span class="nav-number">3.</span> <span class="nav-text">è¿›é˜¶ï¼š è·¨åŸŸè¯·æ±‚</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#åŒæºç­–ç•¥"><span class="nav-number">3.1.</span> <span class="nav-text">åŒæºç­–ç•¥</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#åŒæº"><span class="nav-number">3.1.1.</span> <span class="nav-text">åŒæº</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è·¨åŸŸè§£å†³æ–¹æ³•ï¼ˆæœ‰å¤šç§ï¼‰"><span class="nav-number">3.2.</span> <span class="nav-text">è·¨åŸŸè§£å†³æ–¹æ³•ï¼ˆæœ‰å¤šç§ï¼‰</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#jsonpè·¨åŸŸï¼š"><span class="nav-number">3.2.1.</span> <span class="nav-text">jsonpè·¨åŸŸï¼š</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#å‰ç«¯æ ¸å¿ƒä»£ç ï¼š"><span class="nav-number">3.2.1.1.</span> <span class="nav-text">å‰ç«¯æ ¸å¿ƒä»£ç ï¼š</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#åç«¯éƒ¨åˆ†æ ¸å¿ƒä»£ç "><span class="nav-number">3.2.1.2.</span> <span class="nav-text">åç«¯éƒ¨åˆ†æ ¸å¿ƒä»£ç </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cors"><span class="nav-number">3.2.2.</span> <span class="nav-text">cors</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#æœ€åï¼šå®Œæˆä¸€ä¸ªè·å–IPæ‰€åœ¨åœ°å¹¶è§£æjsonçš„é¡µé¢"><span class="nav-number">4.</span> <span class="nav-text">æœ€åï¼šå®Œæˆä¸€ä¸ªè·å–IPæ‰€åœ¨åœ°å¹¶è§£æjsonçš„é¡µé¢</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#æºç "><span class="nav-number">4.1.</span> <span class="nav-text">æºç </span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#å†™åœ¨æœ€åï¼Œæ³¨æ„æ¥å£æ–‡æ¡£çš„è§„èŒƒï¼"><span class="nav-number">5.</span> <span class="nav-text">å†™åœ¨æœ€åï¼Œæ³¨æ„æ¥å£æ–‡æ¡£çš„è§„èŒƒï¼</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">èµµå“å‡</span>

  

  
</div>


<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  æœ¬ç«™è®¿å®¢æ•°:<span id="busuanzi_value_site_uv"></span>
</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> å¼ºåŠ›é©±åŠ¨ v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ â€“ <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a></div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=6.7.0"></script>

  <script src="/js/src/motion.js?v=6.7.0"></script>



  
  


  <script src="/js/src/affix.js?v=6.7.0"></script>

  <script src="/js/src/schemes/pisces.js?v=6.7.0"></script>




  
  <script src="/js/src/scrollspy.js?v=6.7.0"></script>
<script src="/js/src/post-details.js?v=6.7.0"></script>



  


  <script src="/js/src/bootstrap.js?v=6.7.0"></script>



  
  





  





  

  

  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>


  

  

  

  

  

  
  <script src="/js/src/js.cookie.js?v=6.7.0"></script>
  <script src="/js/src/scroll-cookie.js?v=6.7.0"></script>


  

  

  
  <style>
    .copy-btn {
      display: inline-block;
      padding: 6px 12px;
      font-size: 13px;
      font-weight: 700;
      line-height: 20px;
      color: #333;
      white-space: nowrap;
      vertical-align: middle;
      cursor: pointer;
      background-color: #eee;
      background-image: linear-gradient(#fcfcfc, #eee);
      border: 1px solid #d5d5d5;
      border-radius: 3px;
      user-select: none;
      outline: 0;
    }

    .highlight-wrap .copy-btn {
      transition: opacity .3s ease-in-out;
      opacity: 0;
      padding: 2px 6px;
      position: absolute;
      right: 4px;
      top: 8px;
    }

    .highlight-wrap:hover .copy-btn,
    .highlight-wrap .copy-btn:focus {
      opacity: 1
    }

    .highlight-wrap {
      position: relative;
    }
  </style>
  <script>
    $('.highlight').each(function (i, e) {
      var $wrap = $('<div>').addClass('highlight-wrap');
      $(e).after($wrap);
      $wrap.append($('<button>').addClass('copy-btn').append('å¤åˆ¶').on('click', function (e) {
        var code = $(this).parent().find('.code').find('.line').map(function (i, e) {
          return $(e).text();
        }).toArray().join('\n');
        var ta = document.createElement('textarea');
        var range = document.createRange(); //For Chrome
        var sel = window.getSelection(); //For Chrome
        var yPosition = window.pageYOffset || document.documentElement.scrollTop;
        ta.style.top = yPosition + 'px'; //Prevent page scroll
        ta.style.position = 'absolute';
        ta.style.opacity = '0';
        ta.value = code;
        ta.textContent = code; //For FireFox
        ta.contentEditable = true;
        ta.readOnly = false;
        document.body.appendChild(ta);
        range.selectNode(ta);
        sel.removeAllRanges();
        sel.addRange(range);
        ta.setSelectionRange(0, code.length);
        var result = document.execCommand('copy');
        
          if (result) $(this).text('å¤åˆ¶æˆåŠŸ');
          else $(this).text('å¤åˆ¶å¤±è´¥');
        
        ta.blur(); //For iOS
        $(this).blur();
      })).on('mouseleave', function (e) {
        var $b = $(this).find('.copy-btn');
        setTimeout(function () {
          $b.text('å¤åˆ¶');
        }, 300);
      }).append(e);
    })
  </script>


  

<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"right","width":120,"height":300},"mobile":{"show":false},"log":false});</script></body>
</html>
